# Условия и циклы в Питоне. Консольный ввод/вывод.

## Составные элементы Python-программы

Python относится к языкам, разделяющим идею методологии **структурного программирования**, в основе которой лежит представление программы в виде иерархической структуры блоков.

Блоки в свою очередь могут состоять из элементов или из таких же блоков. Блоки, выделяемые в Python, представлены ниже

Наименование блока  | Описание
--------------------|----------
Последовательность (инструкция) | Любое атомарное действие, например, присваивание
Ветвление (условие) | Выполнение инструкций в зависимости от определенного условия
Цикл                | Многократное исполнение набора инструкций
Подпрограмма (процедура/функция) | Часть компьютерной программы, содержащая описание определенного набора инструкций, которая может быть многократно вызвана из разных частей программы.
Класс	            | Абстрактный тип данных в объектно-ориентированном программировании, задающий общее поведение для группы объектов; модель объекта.
Модуль              | Функционально законченный фрагмент программы, оформленный в виде отдельного файла с исходным кодом или поименованной непрерывной ее части.
Пакет	            | Логически законченная совокупность модулей как единое целое


### Присваивание

В программе на языке Python, как и на большинстве других языков, связь между данными и переменными устанавливается с помощью знака =. Такая операция называется присваивание. Например, выражение sq = 4 означает, что на объект, представляющий собой число 4, находящееся в определенной области памяти, теперь ссылается переменная sq, и обращаться к этому объекту следует по имени sq.

```py
sq = 4
```

Более сложный пример работы с переменными:

```py
apples = 100
eat_day = 5
day = 7
apples = apples - eat_day * day
```

Здесь фигурируют три переменные: apples, eat_day и day. Каждой из них присваивается свое значение. Выражение apples = apples - eat_day * day сложное. Сначала выполняется подвыражение, стоящее справа от знака равенства. После этого его результат присваивается переменной apples, в результате чего ее старое значение (100) теряется. В подвыражении apples - eat_day * day вместо имен переменных на самом деле используются их значения, т. е. числа 100, 5 и 7.

### Ветвление. Условный оператор

Ход выполнения программы может быть линейным, то есть таким, когда выражения выполняются друг за другом, начиная с первого и заканчивая последним. Ни одна строка кода программы не пропускается.

Однако чаще в программах бывает не так. При выполнении кода, в зависимости от тех или иных условий, некоторые его участки могут быть опущены, в то время как другие – выполнены. Иными словами, в программе может присутствовать ветвление, которое реализуется **условным оператором** – особой конструкцией языка программирования.

Конструкция *if логическое_выражение* называется заголовком условного оператора. Выражения в блоке после заголовка – телом условного оператора. Тело может содержать как множество выражений.

Пример использования условного оператора в языке программирования Python:

```py
if n < 100:
    b = n + a
```

В Питоне для обозначения начала блока используется двоеточие. 

Обособление вложенного кода, т. е. тела оператора, достигается за счет отступов. В программировании принято делать отступ равным четырем пробелам. Однако также можно использовать клавишу табуляции (Tab) на клавиатуре. Большинство сред программирования автоматически делают отступ, как только вы поставите двоеточие и перейдете на новую строку.

В следующем примере строчка кода print(b) уже не относится к условному оператору, что обозначено отсутствием перед ней отступа. Она не является вложенной в условный оператор, значит, не принадлежит ему.

```py
if n < 100:
    b = n + a
print(b)
```

Условный оператор может включать не одну ветку, а две, реализуя тем самым полноценное ветвление.

В языках программирования разделение на две ветви достигается с помощью добавления блока else, получается так называемое *if–else* (если-иначе). Синтаксис выглядит примерно так:

```py
tovar1 = 50
tovar2 = 32
if tovar1+ tovar2 > 99 :
    print("99 рублей недостаточно")
else:
    print("Чек оплачен")
```

Если условие при инструкции *if* оказывается ложным, то выполняется блок кода при инструкции *else*. **Ситуация, при которой бы выполнились обе ветви, невозможна**. Либо код, принадлежащий *if*, либо код, принадлежащий *еlse*. Никак иначе. **В заголовке else никогда не бывает логического выражения**.

### Множественное ветвление: if-elif-else

Алгоритм программы может предполагать выбор больше, чем из двух путей, например, из трех, четырех или даже пяти. В данном случае следует говорить о необходимости множественного ветвления.

В язык Python встроена возможность множественного ветвления, которое реализуется с помощью веток elif.

Слово "elif" образовано от двух первых букв слова "else", к которым присоединено слово "if". Это можно перевести как "иначе если".

В отличие от else, **в заголовке elif обязательно должно быть логическое выражение** также, как в заголовке if. 

```py
old = int(input('Ваш возраст: '))
 
print('Рекомендовано:', end=' ')
 
if 3 <= old < 6:
    print('"Заяц в лабиринте"')   
elif 6 <= old < 12:
    print('"Марсианин"')
elif 12 <= old < 16:
    print('"Загадочный остров"')
elif 16 <= old:
    print('"Поток сознания"')
```

Обратите внимание, в конце, после всех elif, может использоваться одна ветка else для обработки случаев, не попавших в условия ветки if и всех elif.

Как только тело if или какого-нибудь elif выполняется, программа сразу же возвращается в основную ветку, а все нижеследующие elif, а также else пропускаются.

### Циклы в программировании. Цикл while

Циклы являются такой же важной частью структурного программирования, как условные операторы. С помощью циклов можно организовать повторение выполнения участков кода. 

#### Цикл while

"While" переводится с английского как "пока", в смысле "пока имеем это, делаем то".

Можно сказать, while является универсальным циклом. Он присутствует во всех языках, поддерживающих структурное программирование, в том числе в Python. Его синтаксис выглядит так:

```py
while логическое_выражение:
     блок_кода
```

Он похож на условный оператор if. Однако в случае циклических операторов их тела могут выполняться не один раз. В случае if, если логическое выражение в заголовке возвращает истину, то тело выполняется единожды. После этого поток выполнения программы возвращается в основную ветку и выполняет следующие выражения, расположенные ниже всей конструкции условного оператора.

В случае while, после того как его тело выполнено, поток возвращается к заголовку цикла и снова проверяет условие. Если логическое выражение возвращает истину, то тело снова выполняется. Потом снова возвращаемся к заголовку и так далее.

Цикл завершает свою работу тогда, когда логическое выражение в заголовке возвращает ложь, то есть условие выполнения цикла больше не соблюдается. После этого поток выполнения перемещается к выражениям, расположенным ниже всего цикла. Говорят, "происходит выход из цикла".

С циклом while возможны две исключительные ситуации:

* Если при первом заходе в цикл логическое выражение возвращает False, то тело цикла не выполняется ни разу. Эту ситуацию можно считать нормальной, так как при определенных условиях логика программы может предполагать отсутствие необходимости в выполнении выражений тела цикла.

* Если логическое выражение в заголовке while никогда не возвращает False, а всегда остается равным True, то цикл никогда не завершится, если только в его теле нет оператора принудительного выхода из цикла (break) или вызовов функций выхода из программы – quit(), exit() в случае Python. Если цикл повторяется и повторяется бесконечное количество раз, то в программе происходит **зацикливание**. В это время она зависает и самостоятельно завершиться не может.

Рассмотрим следующий пример:

```py
total = 100
 
i = 0
while i < 5:
    n = int(input())
    total = total - n
    i = i + 1
 
print("Осталось", total)
```

Сколько раз "прокрутится" цикл в этой программе, т. е. сколько итераций он сделает? Ответ: 5.

* Сначала переменная i равна 0. В заголовке цикла проверяется условие i < 5, и оно истинно. Тело цикла выполняется. В нем меняется значение i, путем добавления к нему единицы.

* Теперь переменная i равна 1. Это меньше пяти, и тело цикла выполняется второй раз. В нем i меняется, ее новое значение 2.

* Два меньше пяти. Тело цикла выполняется третий раз. Значение i становится равным трем.

* Три меньше пяти. На этой итерации i присваивается 4.

* Четыре по прежнему меньше пяти. К i добавляется единица, и теперь ее значение равно пяти.

Далее начинается шестая итерация цикла. Происходит проверка условия i < 5. Но поскольку теперь оно возвращает ложь, то выполнение цикла прерывается, и его тело не выполняется.

"Смысловая нагрузка" данного цикла – это последовательное вычитание из переменной total вводимых чисел. Переменная i в данном случае играет только роль счетчика итераций цикла. В других языках программирования для таких случаев предусмотрен цикл for, который так и называется: "цикл со счетчиком". Его преимущество заключается в том, что в теле цикла не надо изменять переменную-счетчик, ее значение меняется автоматически в заголовке for.

В языке Python тоже есть цикл for. Но это не цикл со счетчиком. В Питоне он предназначен для перебора элементов последовательностей и других сложных объектов. 

Для while наличие счетчика не обязательно. Представим, что надо вводить числа, пока переменная total больше нуля. Тогда код будет выглядеть так:

```py
total = 100
 
while total > 0:
    n = int(input())
    total = total - n
 
print("Ресурс исчерпан")
```

Сколько раз здесь выполнится цикл? Неизвестно, все зависит от вводимых значений. Поэтому у цикла со счетчиком известно количество итераций, а у цикла без счетчика – нет.

Самое главное для цикла while – чтобы в его теле происходили изменения значений переменных, которые проверяются в его заголовке, и чтобы хоть когда-нибудь наступил случай, когда логическое выражение в заголовке возвращает False. Иначе произойдет зацикливание.

### Цикл for

Цикл for в языке программирования Python предназначен для перебора элементов структур данных и некоторых других объектов. Это не цикл со счетчиком, каковым является for во многих других языках.

Что значит перебор элементов? Например, у нас есть список, состоящий из ряда элементов. Сначала берем из него первый элемент, затем второй, потом третий и так далее. С каждым элементом мы выполняем одни и те же действия в теле for. Нам не надо извлекать элементы по их индексам и заботится, на каком из них список заканчивается, и следующая итерация бессмысленна. Цикл for сам переберет и определит конец.

```py
spisok = [10, 40, 20, 30]
for element in spisok:
     print(element + 2)
```

После ключевого слова for используется переменная под именем element. Имя здесь может быть любым. Нередко используют i. На каждой итерации цикла for ей будет присвоен очередной элемент из списка spisok. Так при первой прокрутке цикла идентификатор element связан с числом 10, на второй – с числом 40, и так далее. Когда элементы в spisok заканчиваются, цикл for завершает свою работу.

В примере выше не шла речь о перезаписи его элементов, они просто извлекались и использовались. Однако бывает необходимо изменить сам список, например, изменить значение каждого элемента в нем или только определенных, удовлетворяющих определенному условию. И тут без переменной, обозначающей индекс элемента, в большинстве случаев не обойтись:

```py
i = 0
for element in spisok:
     spisok[i] = element + 2
     i += 1
```

Но если мы вынуждены использовать счетчик, то выгода от использования цикла for не очевидна. Если знать длину списка, то почему бы не воспользоваться while. Длину можно измерить с помощью встроенной в Python функции len().

```py
i = 0
while i < len(spisok):
     spisok[i] = spisok[i] + 2
     i = i + 1
```

Кроме того, с циклом while мы избавились от переменной element.

#### Функция range()

Теперь пришло время познакомиться со встроенной в Python функцией range(). "Range" переводится как "диапазон". Она может принимать один, два или три аргумента. Если задан только один, то генерируются числа от 0 до указанного числа, не включая его. Если заданы два, то числа генерируются от первого до второго, не включая его. Если заданы три, то третье число – это шаг.

Функция генерирует последовательность чисел в указанном диапазоне. Так, range(5, 11) сгенерирует последовательность 5, 6, 7, 8, 9, 10. Однако это будет не структура данных типа "список". Функция range() производит объекты своего класса – диапазоны.

#### Цикл for и range()

Итак, зачем нам понадобилась функций range() в теме про цикл for? Дело в том, что вместе они образуют неплохой тандем. For как цикл перебора элементов, в отличие от while, позволяет не следить за тем, достигнут ли конец структуры. Не надо вводить счетчик для этого, изменять его и проверять условие в заголовке. С другой стороны, range() дает последовательность целых чисел, которые можно использовать как индексы для элементов того же списка.


```py
range(len(spisok))
```

Здесь с помощью функции len() измеряется длина списка. В данном случае она равна четырем. После этого число 4 передается в функцию range(), и она генерирует последовательность чисел от 0 до 3 включительно. Это как раз индексы элементов нашего списка.

Теперь "соединим" for и range():

```py
for i in range(len(spisok)):
     spisok[i] += 2
```

В заголовке цикла for берутся элементы вовсе не списка, а объекта range. Список, элементы которого планируется перезаписывать, тут по-сути не фигурирует. Если заранее знать длину списка, то заголовок может выглядеть так: *for i in range(4)*. То, как используется i в теле цикла, вопрос второй. 

>Примечание. Вместо идентификатора i может быть любой другой.

### Функция enumerate()

В Python есть еще одна встроенная функция, которая часто используется в заголовке for. Это функция enumerate(). Если range() позволяет получить только индексы элементов списка, то enumerate() генерирует пары кортежей, состоящих из индекса элемента и значения элемента.

```py
spisok = [16, 46, 26, 36]
for i in enumerate(spisok):
     print(i)
```

выведет:

```
(0, 16)
(1, 46)
(2, 26)
(3, 36)
```

Эти кортежи можно распаковывать, то есть извлекать индекс и значение, в теле цикла:

```py
for item in enumerate(spisok):
     print(item[0], item[1])
```

Однако чаще это делают еще в заголовке for, используя две переменные перед in:

```py
for id, val in enumerate(spisok):
     print(id, val)
```

### Ввод и вывод данных

### Вывод данных. Функция print()

Что такое функция в программировании, узнаем позже. Пока будем считать, что print() – это такая команда языка Python, которая выводит то, что в ее скобках на экран.

```py
print(1032)
>1032
print(2.34)
>2.34
print("Hello")
>Hello
```

В скобках могут быть любые типы данных. Кроме того, количество данных может быть различным:

```py
print("a:", 1)
>a: 1
one = 1
two = 2
three = 3
print(one, two, three)
>1 2 3
```

Можно передавать в функцию print() как непосредственно литералы (в данном случае "a:" и 1), так и переменные, вместо которых будут выведены их значения. Аргументы функции (то, что в скобках), разделяются между собой запятыми. В выводе вместо запятых значения разделены пробелом.

Если в скобках стоит выражение, то сначала оно выполняется, после чего print() уже выводит результат данного выражения:

```py
print("hello" + " " + "world")
>hello world
print(10 - 2.5/2)
>8.75
```

В print() предусмотрены дополнительные параметры. Например, через параметр sep можно указать отличный от пробела разделитель строк:

```py
print("Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun", sep="-")
>Mon-Tue-Wed-Thu-Fri-Sat-Sun

print(1, 2, 3, sep="//")
>1//2//3
```

Параметр end позволяет указывать, что делать, после вывода строки. По-умолчанию происходит переход на новую строку. Однако это действие можно отменить, указав любой другой символ или строку:

```py
print(10, end="")
print(20)
>10 20
```



https://younglinux.info/python/for.php





## Структура файла и кодировка программы

Программный код на языке Python можно записать в любом простом текстовом редакторе,который способен загружать и сохранять текст в кодировке UTF-8. По умолчанию предполагается, что файлы с программным кодом на языке Python сохраняются в кодировке UTF-8 - надмножестве кодировки ASCII, с помощью которой можно представить практически любой символ любого национального алфавита. Файлы с программным кодом на языке Python обычно имеют расширение *.ру

В начале файла также допускается, но не рекомендуется указывать отдельной строкой кодировку отличную от UTF-8, например ``# coding: cp-1251.``

Не рекомендуется также делать размер строки кода больше 80 символов (такую программу удобно просматривать и при необходимости распечатать - в большинстве редакторов для этого специально предусмотрена визуальная вертикальная полоса). Если строка все же не умещается в это ограничение, необходимо выполнить перенос строки

```py
# Для переноса строки используется обратный слеш \
# Это указывает на явный перенос строки
"Это строка, " \
"а это ее продолжение"
>'Это строка, а это ее продолжение'

# При этом, если была открыта какая-либо скобка ( [ {,
# обратный слеш при переносе можно не ставить - Python поймет все сам
a = [1, 2, 3,
     4, 5, 6, 7, 8, 9, 10]
>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
```

