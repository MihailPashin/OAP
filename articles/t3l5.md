# Тема 3. Программирование на языке Kotlin</br>Лекция 5
Методы основных типов данных (продолжение).


## String

```kt
class String : Comparable<String>, CharSequence
```

Тип String представляет строку символов. Все строковые литералы в Котлине, такие как "авс" являются экземплярами этого класса.

### .length  

Возвращает длину строки в символах (длина в байтах может быть больше)

### .compareTo(*other*), .equals(*other*), .hashCode() - аналогично числовым данным

### .get(Int): Char  

Возвращает символ строки по индексу

```kt
"test".get(1) // 'e'
```

### .plus(*other*)  

Конкатенация (склеивание) строк

```kt
"te".plus("st") // test
```

### .subSequence(startIndex: Int, endIndex: Int): CharSequence  

Возвращает подстроку (символ в позиции endIndex в подстроку не входит)

```kt
"test".subSequence(1, 3) // es
```

### .indices: IntRange  

Возвращает диапазон валидных индексов для строки

```kt
"test".indices // 0..3
```

### .lastIndex: Int  

Возвращает индекс последнего символа строки

```kt
"test".lastIndex // 3
```

### .all(predicate: (Char) -> Boolean): Boolean  

Возвращает *true*, если все символы строки соответствуют выражению

```kt
"test".all( { it.toInt()<128 } ) // true
```

### .any(predicate: (Char) -> Boolean): Boolean  

Возвращает *true*, если хотя бы один символ строки соответствует выражению. 

>.any(): Boolean
>Возвращает *true*, если в строке есть хотя бы один символ


### CharSequence.asIterable(): Iterable<Char>  

Creates an Iterable instance that wraps the original char sequence returning its characters when being iterated.

### CharSequence.asSequence(): Sequence<Char>

Creates a Sequence instance that wraps the original char sequence returning its characters when being iterated.


### associate  

Возвращает ассоциативный массив содержащий пары ключ-значение созданные с помощью лямбда выражения.

```
fun <K, V> CharSequence.associate( 
    transform: (Char) -> Pair<K, V> 
): Map<K, V>  
```

### associateBy 

Returns a Map containing the characters from the given char sequence indexed by the key returned from keySelector function applied to each character.

<K> CharSequence.associateBy( keySelector: (Char) -> K ): Map<K, Char>  

Returns a Map containing the values provided by valueTransform and indexed by keySelector functions applied to characters of the given char sequence.

fun <K, V> CharSequence.associateBy(
    keySelector: (Char) -> K,
    valueTransform: (Char) -> V
): Map<K, V>

### associateByTo  

Populates and returns the destination mutable map with key-value pairs, where key is provided by the keySelector function applied to each character of the given char sequence and value is the character itself.

fun <K, M : MutableMap<in K, in Char>> CharSequence.associateByTo(
    destination: M,
    keySelector: (Char) -> K
): M

Populates and returns the destination mutable map with key-value pairs, where key is provided by the keySelector function and and value is provided by the valueTransform function applied to characters of the given char sequence.

fun <K, V, M : MutableMap<in K, in V>> CharSequence.associateByTo(
    destination: M,
    keySelector: (Char) -> K,
    valueTransform: (Char) -> V
): M

### associateTo

Populates and returns the destination mutable map with key-value pairs provided by transform function applied to each character of the given char sequence.

fun <K, V, M : MutableMap<in K, in V>> CharSequence.associateTo(
    destination: M,
    transform: (Char) -> Pair<K, V>
): M

### associateWith

Returns a Map where keys are characters from the given char sequence and values are produced by the valueSelector function applied to each character.

fun <V> CharSequence.associateWith(
    valueSelector: (Char) -> V
): Map<Char, V>

### associateWithTo

Populates and returns the destination mutable map with key-value pairs for each character of the given char sequence, where key is the character itself and value is provided by the valueSelector function applied to that key.

fun <V, M : MutableMap<in Char, in V>> CharSequence.associateWithTo(
    destination: M,
    valueSelector: (Char) -> V
): M

### byteInputStream

Creates a new byte input stream for the string.

```
fun String.byteInputStream(
    charset: Charset = Charsets.UTF_8
): ByteArrayInputStream
```

### capitalize

Возвращает копию исходной строки, в которой первое слово пишется с заглавной буквы. В параметрах можно указать locale.

```
fun String.capitalize(locale: Locale): String
```

### chunked

Разбивает строку на массив строк, каждая строка размером size. Разбивает без учета пробелов. 

```
fun CharSequence.chunked(size: Int): List<String>
```

Аналогично, но с подстрокой можно произвести дополнительное преобразование.

```
fun <R> CharSequence.chunked(
    size: Int,
    transform: (CharSequence) -> R
): List<R>
```

### chunkedSequence

Splits this char sequence into a sequence of strings each not exceeding the given size.

```
fun CharSequence.chunkedSequence(size: Int): Sequence<String>
```

Splits this char sequence into several char sequences each not exceeding the given size and applies the given transform function to an each.

```
fun <R> CharSequence.chunkedSequence(
    size: Int,
    transform: (CharSequence) -> R
): Sequence<R>
```

### codePointAt

Returns the character (Unicode code point) at the specified index.

```
fun String.codePointAt(index: Int): Int
```

### codePointBefore

Returns the character (Unicode code point) before the specified index.

```
fun String.codePointBefore(index: Int): Int
```

### codePointCount

Returns the number of Unicode code points in the specified text range of this String.

```
fun String.codePointCount(
    beginIndex: Int,
    endIndex: Int
): Int
```

### coerceAtLeast
Ensures that this value is not less than the specified minimumValue.

```
fun <T : Comparable<T>> T.coerceAtLeast(minimumValue: T): T
```

### coerceAtMost

Ensures that this value is not greater than the specified maximumValue.

```
fun <T : Comparable<T>> T.coerceAtMost(maximumValue: T): T
```

### coerceIn

Ensures that this value lies in the specified range minimumValue..maximumValue.

```
fun <T : Comparable<T>> T.coerceIn(
    minimumValue: T?,
    maximumValue: T?
): T
```

Ensures that this value lies in the specified range.

```
fun <T : Comparable<T>> T.coerceIn(
    range: ClosedFloatingPointRange<T>
): T

fun <T : Comparable<T>> T.coerceIn(range: ClosedRange<T>): T
```

### commonPrefixWith

Возвращает общий префикс (начало строки), если совпадений нет, то возвращает пустую строку.

```
fun CharSequence.commonPrefixWith(
    other: CharSequence,
    ignoreCase: Boolean = false
): String
```

### commonSuffixWith

Возвращает общий суффикс (конец строки)

```
fun CharSequence.commonSuffixWith(
    other: CharSequence,
    ignoreCase: Boolean = false
): String
```

### concat

Склейка строк (аналог метода .plus())

```
fun String.concat(str: String): String
```

### contains

Возвращает *true* если текущая строка содержит подстроку *other*.

```
operator fun CharSequence.contains(
    other: CharSequence,
    ignoreCase: Boolean = false
): Boolean
```

Возвращает *true* если текущая строка содержит символ *char*.

```
operator fun CharSequence.contains(
    char: Char,
    ignoreCase: Boolean = false
): Boolean
```

Возвращает *true* если текущая строка содержит подстроку заданную регулярным выражением *regex*.

```
operator fun CharSequence.contains(regex: Regex): Boolean
```

### contentEquals

Возвращает истину, если текущая строка равна указанной последовательности символов (CharSequence)

```
fun String.contentEquals(charSequence: CharSequence): Boolean
```

Возвращает истину, если текущая строка равна указанному буферу (StringBuffer)

```
fun String.contentEquals(
    stringBuilder: StringBuffer
): Boolean
```

### count

Возвращает длину последовательностисимволов.

```
fun CharSequence.count(): Int
```

Если задано лямбда выражение, то возвращает количество символов совпадающим с этим выражением (фильтр).

```
fun CharSequence.count(predicate: (Char) -> Boolean): Int
```

### decapitalize

Первый символ строки переводится в нижний регистр.

```
fun String.decapitalize(locale: Locale): String
```

### drop

Возвращает строку у которой удалены первые **n** символов.

```
fun String.drop(n: Int): String
```

### dropLast

Возвращает строку у которой удалены последние **n** символов.

```
fun String.dropLast(n: Int): String
```

### dropLastWhile

Returns a string containing all characters except last characters that satisfy the given predicate.

```
fun String.dropLastWhile(
    predicate: (Char) -> Boolean
): String
```

### dropWhile

Returns a string containing all characters except first characters that satisfy the given predicate.

```
fun String.dropWhile(predicate: (Char) -> Boolean): String
```

### elementAtOrElse

Возвращает символ по индексу или результат лямбда выражения, если индекс выходит за границы строки. Практически готовый аналог функции padr - можно добить строку справа пробелами.

```
fun CharSequence.elementAtOrElse(
    index: Int,
    defaultValue: (Int) -> Char
): Char
```

Common
JVM
JS
Native
elementAtOrNull
Returns a character at the given index or null if the index is out of bounds of this char sequence.

fun CharSequence.elementAtOrNull(index: Int): Char?
Common
JVM
JS
Native
endsWith
Returns true if this char sequence ends with the specified character.

fun CharSequence.endsWith(
    char: Char,
    ignoreCase: Boolean = false
): Boolean
Returns true if this char sequence ends with the specified suffix.

fun CharSequence.endsWith(
    suffix: CharSequence,
    ignoreCase: Boolean = false
): Boolean
Common
JVM
JS
Native
filter
Returns a string containing only those characters from the original string that match the given predicate.

fun String.filter(predicate: (Char) -> Boolean): String
Common
JVM
JS
Native
filterIndexed
Returns a string containing only those characters from the original string that match the given predicate.

fun String.filterIndexed(
    predicate: (index: Int, Char) -> Boolean
): String
Common
JVM
JS
Native
filterIndexedTo
Appends all characters matching the given predicate to the given destination.

fun <C : Appendable> CharSequence.filterIndexedTo(
    destination: C,
    predicate: (index: Int, Char) -> Boolean
): C
Common
JVM
JS
Native
filterNot
Returns a string containing only those characters from the original string that do not match the given predicate.

fun String.filterNot(predicate: (Char) -> Boolean): String
Common
JVM
JS
Native
filterNotTo
Appends all characters not matching the given predicate to the given destination.

fun <C : Appendable> CharSequence.filterNotTo(
    destination: C,
    predicate: (Char) -> Boolean
): C
Common
JVM
JS
Native
filterTo
Appends all characters matching the given predicate to the given destination.

fun <C : Appendable> CharSequence.filterTo(
    destination: C,
    predicate: (Char) -> Boolean
): C
Common
JVM
JS
Native
find
Returns the first character matching the given predicate, or null if no such character was found.

fun CharSequence.find(predicate: (Char) -> Boolean): Char?
Common
JVM
JS
Native
findAnyOf
Finds the first occurrence of any of the specified strings in this char sequence, starting from the specified startIndex and optionally ignoring the case.

fun CharSequence.findAnyOf(
    strings: Collection<String>,
    startIndex: Int = 0,
    ignoreCase: Boolean = false
): Pair<Int, String>?
Common
JVM
JS
Native
findLast
Returns the last character matching the given predicate, or null if no such character was found.

fun CharSequence.findLast(
    predicate: (Char) -> Boolean
): Char?
Common
JVM
JS
Native
findLastAnyOf
Finds the last occurrence of any of the specified strings in this char sequence, starting from the specified startIndex and optionally ignoring the case.

fun CharSequence.findLastAnyOf(
    strings: Collection<String>,
    startIndex: Int = lastIndex,
    ignoreCase: Boolean = false
): Pair<Int, String>?
Common
JVM
JS
Native
first
Returns first character.

fun CharSequence.first(): Char
Returns the first character matching the given predicate.

fun CharSequence.first(predicate: (Char) -> Boolean): Char
Common
JVM
JS
Native
firstOrNull
Returns the first character, or null if the char sequence is empty.

fun CharSequence.firstOrNull(): Char?
Returns the first character matching the given predicate, or null if character was not found.

fun CharSequence.firstOrNull(
    predicate: (Char) -> Boolean
): Char?
Common
JVM
JS
Native
flatMap
Returns a single list of all elements yielded from results of transform function being invoked on each character of original char sequence.

fun <R> CharSequence.flatMap(
    transform: (Char) -> Iterable<R>
): List<R>
Common
JVM
JS
Native
flatMapTo
Appends all elements yielded from results of transform function being invoked on each character of original char sequence, to the given destination.

fun <R, C : MutableCollection<in R>> CharSequence.flatMapTo(
    destination: C,
    transform: (Char) -> Iterable<R>
): C
Common
JVM
JS
Native
fold
Accumulates value starting with initial value and applying operation from left to right to current accumulator value and each character.

fun <R> CharSequence.fold(
    initial: R,
    operation: (acc: R, Char) -> R
): R
Common
JVM
JS
Native
foldIndexed
Accumulates value starting with initial value and applying operation from left to right to current accumulator value and each character with its index in the original char sequence.

fun <R> CharSequence.foldIndexed(
    initial: R,
    operation: (index: Int, acc: R, Char) -> R
): R
Common
JVM
JS
Native
foldRight
Accumulates value starting with initial value and applying operation from right to left to each character and current accumulator value.

fun <R> CharSequence.foldRight(
    initial: R,
    operation: (Char, acc: R) -> R
): R
Common
JVM
JS
Native
foldRightIndexed
Accumulates value starting with initial value and applying operation from right to left to each character with its index in the original char sequence and current accumulator value.

fun <R> CharSequence.foldRightIndexed(
    initial: R,
    operation: (index: Int, Char, acc: R) -> R
): R
Common
JVM
JS
Native
forEach
Performs the given action on each character.

fun CharSequence.forEach(action: (Char) -> Unit)
Common
JVM
JS
Native
forEachIndexed
Performs the given action on each character, providing sequential index with the character.

fun CharSequence.forEachIndexed(
    action: (index: Int, Char) -> Unit)
JVM
format
Uses this string as a format string and returns a string obtained by substituting the specified arguments, using the default locale.

fun String.format(vararg args: Any?): String
Uses this string as a format string and returns a string obtained by substituting the specified arguments, using the specified locale.

fun String.format(locale: Locale, vararg args: Any?): String
Common
JVM
JS
Native
getOrElse
Returns a character at the given index or the result of calling the defaultValue function if the index is out of bounds of this char sequence.

fun CharSequence.getOrElse(
    index: Int,
    defaultValue: (Int) -> Char
): Char
Common
JVM
JS
Native
getOrNull
Returns a character at the given index or null if the index is out of bounds of this char sequence.

fun CharSequence.getOrNull(index: Int): Char?
Common
JVM
JS
Native
groupBy
Groups characters of the original char sequence by the key returned by the given keySelector function applied to each character and returns a map where each group key is associated with a list of corresponding characters.

fun <K> CharSequence.groupBy(
    keySelector: (Char) -> K
): Map<K, List<Char>>
Groups values returned by the valueTransform function applied to each character of the original char sequence by the key returned by the given keySelector function applied to the character and returns a map where each group key is associated with a list of corresponding values.

fun <K, V> CharSequence.groupBy(
    keySelector: (Char) -> K,
    valueTransform: (Char) -> V
): Map<K, List<V>>
Common
JVM
JS
Native
groupByTo
Groups characters of the original char sequence by the key returned by the given keySelector function applied to each character and puts to the destination map each group key associated with a list of corresponding characters.

fun <K, M : MutableMap<in K, MutableList<Char>>> CharSequence.groupByTo(
    destination: M,
    keySelector: (Char) -> K
): M
Groups values returned by the valueTransform function applied to each character of the original char sequence by the key returned by the given keySelector function applied to the character and puts to the destination map each group key associated with a list of corresponding values.

fun <K, V, M : MutableMap<in K, MutableList<V>>> CharSequence.groupByTo(
    destination: M,
    keySelector: (Char) -> K,
    valueTransform: (Char) -> V
): M
Common
JVM
JS
Native
1.1
groupingBy
Creates a Grouping source from a char sequence to be used later with one of group-and-fold operations using the specified keySelector function to extract a key from each character.

fun <K> CharSequence.groupingBy(
    keySelector: (Char) -> K
): Grouping<Char, K>
Common
JVM
JS
Native
hasSurrogatePairAt
Returns true if this CharSequence has Unicode surrogate pair at the specified index.

fun CharSequence.hasSurrogatePairAt(index: Int): Boolean
Common
JVM
JS
Native
1.3
ifBlank
Returns this char sequence if it is not empty and doesn't consist solely of whitespace characters, or the result of calling defaultValue function otherwise.

fun <C, R> C.ifBlank(
    defaultValue: () -> R
): R where C : CharSequence, C : R
Common
JVM
JS
Native
1.3
ifEmpty
Returns this char sequence if it's not empty or the result of calling defaultValue function if the char sequence is empty.

fun <C, R> C.ifEmpty(
    defaultValue: () -> R
): R where C : CharSequence, C : R
Common
JVM
JS
Native
indexOf
Returns the index within this string of the first occurrence of the specified character, starting from the specified startIndex.

fun CharSequence.indexOf(
    char: Char,
    startIndex: Int = 0,
    ignoreCase: Boolean = false
): Int
Returns the index within this char sequence of the first occurrence of the specified string, starting from the specified startIndex.

fun CharSequence.indexOf(
    string: String,
    startIndex: Int = 0,
    ignoreCase: Boolean = false
): Int
Common
JVM
JS
Native
indexOfAny
Finds the index of the first occurrence of any of the specified chars in this char sequence, starting from the specified startIndex and optionally ignoring the case.

fun CharSequence.indexOfAny(
    chars: CharArray,
    startIndex: Int = 0,
    ignoreCase: Boolean = false
): Int
Finds the index of the first occurrence of any of the specified strings in this char sequence, starting from the specified startIndex and optionally ignoring the case.

fun CharSequence.indexOfAny(
    strings: Collection<String>,
    startIndex: Int = 0,
    ignoreCase: Boolean = false
): Int
Common
JVM
JS
Native
indexOfFirst
Returns index of the first character matching the given predicate, or -1 if the char sequence does not contain such character.

fun CharSequence.indexOfFirst(
    predicate: (Char) -> Boolean
): Int
Common
JVM
JS
Native
indexOfLast
Returns index of the last character matching the given predicate, or -1 if the char sequence does not contain such character.

fun CharSequence.indexOfLast(
    predicate: (Char) -> Boolean
): Int
JVM
intern
Returns a canonical representation for this string object.

fun String.intern(): String
Common
JVM
JS
Native
isEmpty
Returns true if this char sequence is empty (contains no characters).

fun CharSequence.isEmpty(): Boolean
Common
JVM
JS
Native
isNotBlank
Returns true if this char sequence is not empty and contains some characters except of whitespace characters.

fun CharSequence.isNotBlank(): Boolean
Common
JVM
JS
Native
isNotEmpty
Returns true if this char sequence is not empty.

fun CharSequence.isNotEmpty(): Boolean
Common
JVM
JS
Native
isNullOrBlank
Returns true if this nullable char sequence is either null or empty or consists solely of whitespace characters.

fun CharSequence?.isNullOrBlank(): Boolean
Common
JVM
JS
Native
isNullOrEmpty
Returns true if this nullable char sequence is either null or empty.

fun CharSequence?.isNullOrEmpty(): Boolean
Common
JVM
JS
Native
iterator
Iterator for characters of the given char sequence.

operator fun CharSequence.iterator(): CharIterator
Common
JVM
JS
Native
last
Returns the last character.

fun CharSequence.last(): Char
Returns the last character matching the given predicate.

fun CharSequence.last(predicate: (Char) -> Boolean): Char
Common
JVM
JS
Native
lastIndexOf
Returns the index within this char sequence of the last occurrence of the specified character, starting from the specified startIndex.

fun CharSequence.lastIndexOf(
    char: Char,
    startIndex: Int = lastIndex,
    ignoreCase: Boolean = false
): Int
Returns the index within this char sequence of the last occurrence of the specified string, starting from the specified startIndex.

fun CharSequence.lastIndexOf(
    string: String,
    startIndex: Int = lastIndex,
    ignoreCase: Boolean = false
): Int
Common
JVM
JS
Native
lastIndexOfAny
Finds the index of the last occurrence of any of the specified chars in this char sequence, starting from the specified startIndex and optionally ignoring the case.

fun CharSequence.lastIndexOfAny(
    chars: CharArray,
    startIndex: Int = lastIndex,
    ignoreCase: Boolean = false
): Int
Finds the index of the last occurrence of any of the specified strings in this char sequence, starting from the specified startIndex and optionally ignoring the case.

fun CharSequence.lastIndexOfAny(
    strings: Collection<String>,
    startIndex: Int = lastIndex,
    ignoreCase: Boolean = false
): Int
Common
JVM
JS
Native
lastOrNull
Returns the last character, or null if the char sequence is empty.

fun CharSequence.lastOrNull(): Char?
Returns the last character matching the given predicate, or null if no such character was found.

fun CharSequence.lastOrNull(
    predicate: (Char) -> Boolean
): Char?
Common
JVM
JS
Native
lines
Splits this char sequence to a list of lines delimited by any of the following character sequences: CRLF, LF or CR.

fun CharSequence.lines(): List<String>
Common
JVM
JS
Native
lineSequence
Splits this char sequence to a sequence of lines delimited by any of the following character sequences: CRLF, LF or CR.

fun CharSequence.lineSequence(): Sequence<String>
Common
JVM
JS
Native
map
Returns a list containing the results of applying the given transform function to each character in the original char sequence.

fun <R> CharSequence.map(transform: (Char) -> R): List<R>
Common
JVM
JS
Native
mapIndexed
Returns a list containing the results of applying the given transform function to each character and its index in the original char sequence.

fun <R> CharSequence.mapIndexed(
    transform: (index: Int, Char) -> R
): List<R>
Common
JVM
JS
Native
mapIndexedNotNull
Returns a list containing only the non-null results of applying the given transform function to each character and its index in the original char sequence.

fun <R : Any> CharSequence.mapIndexedNotNull(
    transform: (index: Int, Char) -> R?
): List<R>
Common
JVM
JS
Native
mapIndexedNotNullTo
Applies the given transform function to each character and its index in the original char sequence and appends only the non-null results to the given destination.

fun <R : Any, C : MutableCollection<in R>> CharSequence.mapIndexedNotNullTo(
    destination: C,
    transform: (index: Int, Char) -> R?
): C
Common
JVM
JS
Native
mapIndexedTo
Applies the given transform function to each character and its index in the original char sequence and appends the results to the given destination.

fun <R, C : MutableCollection<in R>> CharSequence.mapIndexedTo(
    destination: C,
    transform: (index: Int, Char) -> R
): C
Common
JVM
JS
Native
mapNotNull
Returns a list containing only the non-null results of applying the given transform function to each character in the original char sequence.

fun <R : Any> CharSequence.mapNotNull(
    transform: (Char) -> R?
): List<R>
Common
JVM
JS
Native
mapNotNullTo
Applies the given transform function to each character in the original char sequence and appends only the non-null results to the given destination.

fun <R : Any, C : MutableCollection<in R>> CharSequence.mapNotNullTo(
    destination: C,
    transform: (Char) -> R?
): C
Common
JVM
JS
Native
mapTo
Applies the given transform function to each character of the original char sequence and appends the results to the given destination.

fun <R, C : MutableCollection<in R>> CharSequence.mapTo(
    destination: C,
    transform: (Char) -> R
): C
JS
1.1
match
fun String.match(regex: String): Array<String>?
matches
Common
JVM
JS
Native
Returns true if this char sequence matches the given regular expression.

infix fun CharSequence.matches(regex: Regex): Boolean
JS
1.1
fun String.matches(regex: String): Boolean
Common
JVM
JS
Native
max
Returns the largest character or null if there are no characters.

fun CharSequence.max(): Char?
Common
JVM
JS
Native
maxBy
Returns the first character yielding the largest value of the given function or null if there are no characters.

fun <R : Comparable<R>> CharSequence.maxBy(
    selector: (Char) -> R
): Char?
Common
JVM
JS
Native
maxWith
Returns the first character having the largest value according to the provided comparator or null if there are no characters.

fun CharSequence.maxWith(
    comparator: Comparator<in Char>
): Char?
Common
JVM
JS
Native
min
Returns the smallest character or null if there are no characters.

fun CharSequence.min(): Char?
Common
JVM
JS
Native
minBy
Returns the first character yielding the smallest value of the given function or null if there are no characters.

fun <R : Comparable<R>> CharSequence.minBy(
    selector: (Char) -> R
): Char?
Common
JVM
JS
Native
minWith
Returns the first character having the smallest value according to the provided comparator or null if there are no characters.

fun CharSequence.minWith(
    comparator: Comparator<in Char>
): Char?
Common
JVM
JS
Native
none
Returns true if the char sequence has no characters.

fun CharSequence.none(): Boolean
Returns true if no characters match the given predicate.

fun CharSequence.none(predicate: (Char) -> Boolean): Boolean
JVM
offsetByCodePoints
Returns the index within this string that is offset from the given index by codePointOffset code points.

fun String.offsetByCodePoints(
    index: Int,
    codePointOffset: Int
): Int
Common
JVM
JS
Native
1.1
onEach
Performs the given action on each character and returns the char sequence itself afterwards.

fun <S : CharSequence> S.onEach(action: (Char) -> Unit): S
Common
JVM
JS
Native
orEmpty
Returns the string if it is not null, or the empty string otherwise.

fun String?.orEmpty(): String
Common
JVM
JS
Native
padEnd
Pads the string to the specified length at the end with the specified character or space.

fun String.padEnd(length: Int, padChar: Char = ' '): String
Common
JVM
JS
Native
padStart
Pads the string to the specified length at the beginning with the specified character or space.

fun String.padStart(length: Int, padChar: Char = ' '): String
Common
JVM
JS
Native
partition
Splits the original string into pair of strings, where first string contains characters for which predicate yielded true, while second string contains characters for which predicate yielded false.

fun String.partition(
    predicate: (Char) -> Boolean
): Pair<String, String>
Common
JVM
JS
Native
prependIndent
Prepends indent to every line of the original string.

fun String.prependIndent(indent: String = " "): String
Common
JVM
JS
Native
1.3
random
Returns a random character from this char sequence.

fun CharSequence.random(): Char
Returns a random character from this char sequence using the specified source of randomness.

fun CharSequence.random(random: Random): Char
Common
JVM
JS
Native
rangeTo
Creates a range from this Comparable value to the specified that value.

operator fun <T : Comparable<T>> T.rangeTo(
    that: T
): ClosedRange<T>
JVM
reader
Creates a new reader for the string.

fun String.reader(): StringReader
Common
JVM
JS
Native
reduce
Accumulates value starting with the first character and applying operation from left to right to current accumulator value and each character.

fun CharSequence.reduce(
    operation: (acc: Char, Char) -> Char
): Char
Common
JVM
JS
Native
reduceIndexed
Accumulates value starting with the first character and applying operation from left to right to current accumulator value and each character with its index in the original char sequence.

fun CharSequence.reduceIndexed(
    operation: (index: Int, acc: Char, Char) -> Char
): Char
Common
JVM
JS
Native
reduceRight
Accumulates value starting with last character and applying operation from right to left to each character and current accumulator value.

fun CharSequence.reduceRight(
    operation: (Char, acc: Char) -> Char
): Char
Common
JVM
JS
Native
reduceRightIndexed
Accumulates value starting with last character and applying operation from right to left to each character with its index in the original char sequence and current accumulator value.

fun CharSequence.reduceRightIndexed(
    operation: (index: Int, Char, acc: Char) -> Char
): Char
Common
JVM
JS
Native
removePrefix
If this string starts with the given prefix, returns a copy of this string with the prefix removed. Otherwise, returns this string.

fun String.removePrefix(prefix: CharSequence): String
Common
JVM
JS
Native
removeRange
Removes the part of a string at a given range.

fun String.removeRange(
    startIndex: Int,
    endIndex: Int
): String
Removes the part of a string at the given range.

fun String.removeRange(range: IntRange): String
Common
JVM
JS
Native
removeSuffix
If this string ends with the given suffix, returns a copy of this string with the suffix removed. Otherwise, returns this string.

fun String.removeSuffix(suffix: CharSequence): String
Common
JVM
JS
Native
removeSurrounding
Removes from a string both the given prefix and suffix if and only if it starts with the prefix and ends with the suffix. Otherwise returns this string unchanged.

fun String.removeSurrounding(
    prefix: CharSequence,
    suffix: CharSequence
): String
Removes the given delimiter string from both the start and the end of this string if and only if it starts with and ends with the delimiter. Otherwise returns this string unchanged.

fun String.removeSurrounding(delimiter: CharSequence): String
Common
JVM
JS
Native
replace
Returns a new string obtained by replacing each substring of this char sequence that matches the given regular expression with the given replacement.

fun CharSequence.replace(
    regex: Regex,
    replacement: String
): String
Returns a new string obtained by replacing each substring of this char sequence that matches the given regular expression with the result of the given function transform that takes MatchResult and returns a string to be used as a replacement for that match.

fun CharSequence.replace(
    regex: Regex,
    transform: (MatchResult) -> CharSequence
): String
Common
JVM
JS
Native
replaceAfter
Replace part of string after the first occurrence of given delimiter with the replacement string. If the string does not contain the delimiter, returns missingDelimiterValue which defaults to the original string.

fun String.replaceAfter(
    delimiter: Char,
    replacement: String,
    missingDelimiterValue: String = this
): String
fun String.replaceAfter(
    delimiter: String,
    replacement: String,
    missingDelimiterValue: String = this
): String
Common
JVM
JS
Native
replaceAfterLast
Replace part of string after the last occurrence of given delimiter with the replacement string. If the string does not contain the delimiter, returns missingDelimiterValue which defaults to the original string.

fun String.replaceAfterLast(
    delimiter: String,
    replacement: String,
    missingDelimiterValue: String = this
): String
fun String.replaceAfterLast(
    delimiter: Char,
    replacement: String,
    missingDelimiterValue: String = this
): String
Common
JVM
JS
Native
replaceBefore
Replace part of string before the first occurrence of given delimiter with the replacement string. If the string does not contain the delimiter, returns missingDelimiterValue which defaults to the original string.

fun String.replaceBefore(
    delimiter: Char,
    replacement: String,
    missingDelimiterValue: String = this
): String
fun String.replaceBefore(
    delimiter: String,
    replacement: String,
    missingDelimiterValue: String = this
): String
Common
JVM
JS
Native
replaceBeforeLast
Replace part of string before the last occurrence of given delimiter with the replacement string. If the string does not contain the delimiter, returns missingDelimiterValue which defaults to the original string.

fun String.replaceBeforeLast(
    delimiter: Char,
    replacement: String,
    missingDelimiterValue: String = this
): String
fun String.replaceBeforeLast(
    delimiter: String,
    replacement: String,
    missingDelimiterValue: String = this
): String
Common
JVM
JS
Native
replaceFirst
Replaces the first occurrence of the given regular expression regex in this char sequence with specified replacement expression.

fun CharSequence.replaceFirst(
    regex: Regex,
    replacement: String
): String
Common
JVM
JS
Native
replaceIndent
Detects a common minimal indent like it does trimIndent and replaces it with the specified newIndent.

fun String.replaceIndent(newIndent: String = ""): String
Common
JVM
JS
Native
replaceIndentByMargin
Detects indent by marginPrefix as it does trimMargin and replace it with newIndent.

fun String.replaceIndentByMargin(
    newIndent: String = "",
    marginPrefix: String = "|"
): String
Common
JVM
JS
Native
replaceRange
Replaces the part of the string at the given range with the replacement char sequence.

fun String.replaceRange(
    startIndex: Int,
    endIndex: Int,
    replacement: CharSequence
): String
Replace the part of string at the given range with the replacement string.

fun String.replaceRange(
    range: IntRange,
    replacement: CharSequence
): String
Common
JVM
JS
Native
reversed
Returns a string with characters in reversed order.

fun String.reversed(): String
Common
JVM
JS
Native
single
Returns the single character, or throws an exception if the char sequence is empty or has more than one character.

fun CharSequence.single(): Char
Returns the single character matching the given predicate, or throws exception if there is no or more than one matching character.

fun CharSequence.single(predicate: (Char) -> Boolean): Char
Common
JVM
JS
Native
singleOrNull
Returns single character, or null if the char sequence is empty or has more than one character.

fun CharSequence.singleOrNull(): Char?
Returns the single character matching the given predicate, or null if character was not found or more than one character was found.

fun CharSequence.singleOrNull(
    predicate: (Char) -> Boolean
): Char?
Common
JVM
JS
Native
slice
Returns a string containing characters of the original string at the specified range of indices.

fun String.slice(indices: IntRange): String
Returns a string containing characters of the original string at specified indices.

fun String.slice(indices: Iterable<Int>): String
split
Splits this char sequence to a list of strings around occurrences of the specified delimiters.

Common
JVM
JS
Native
fun CharSequence.split(
    vararg delimiters: String,
    ignoreCase: Boolean = false,
    limit: Int = 0
): List<String>
Common
JVM
JS
Native
fun CharSequence.split(
    vararg delimiters: Char,
    ignoreCase: Boolean = false,
    limit: Int = 0
): List<String>
Splits this char sequence around matches of the given regular expression.

Common
JVM
JS
Native
fun CharSequence.split(
    regex: Regex,
    limit: Int = 0
): List<String>
JVM
fun CharSequence.split(
    regex: Pattern,
    limit: Int = 0
): List<String>
Common
JVM
JS
Native
splitToSequence
Splits this char sequence to a sequence of strings around occurrences of the specified delimiters.

fun CharSequence.splitToSequence(
    vararg delimiters: String,
    ignoreCase: Boolean = false,
    limit: Int = 0
): Sequence<String>
fun CharSequence.splitToSequence(
    vararg delimiters: Char,
    ignoreCase: Boolean = false,
    limit: Int = 0
): Sequence<String>
Common
JVM
JS
Native
startsWith
Returns true if this char sequence starts with the specified character.

fun CharSequence.startsWith(
    char: Char,
    ignoreCase: Boolean = false
): Boolean
Returns true if this char sequence starts with the specified prefix.

fun CharSequence.startsWith(
    prefix: CharSequence,
    ignoreCase: Boolean = false
): Boolean
Returns true if a substring of this char sequence starting at the specified offset startIndex starts with the specified prefix.

fun CharSequence.startsWith(
    prefix: CharSequence,
    startIndex: Int,
    ignoreCase: Boolean = false
): Boolean
Common
JVM
JS
Native
subSequence
Returns a subsequence of this char sequence.

fun String.subSequence(start: Int, end: Int): CharSequence
Returns a subsequence of this char sequence specified by the given range of indices.

fun CharSequence.subSequence(range: IntRange): CharSequence
Common
JVM
JS
Native
substring
Returns a substring specified by the given range of indices.

fun String.substring(range: IntRange): String
Common
JVM
JS
Native
substringAfter
Returns a substring after the first occurrence of delimiter. If the string does not contain the delimiter, returns missingDelimiterValue which defaults to the original string.

fun String.substringAfter(
    delimiter: Char,
    missingDelimiterValue: String = this
): String
fun String.substringAfter(
    delimiter: String,
    missingDelimiterValue: String = this
): String
Common
JVM
JS
Native
substringAfterLast
Returns a substring after the last occurrence of delimiter. If the string does not contain the delimiter, returns missingDelimiterValue which defaults to the original string.

fun String.substringAfterLast(
    delimiter: Char,
    missingDelimiterValue: String = this
): String
fun String.substringAfterLast(
    delimiter: String,
    missingDelimiterValue: String = this
): String
Common
JVM
JS
Native
substringBefore
Returns a substring before the first occurrence of delimiter. If the string does not contain the delimiter, returns missingDelimiterValue which defaults to the original string.

fun String.substringBefore(
    delimiter: Char,
    missingDelimiterValue: String = this
): String
fun String.substringBefore(
    delimiter: String,
    missingDelimiterValue: String = this
): String
Common
JVM
JS
Native
substringBeforeLast
Returns a substring before the last occurrence of delimiter. If the string does not contain the delimiter, returns missingDelimiterValue which defaults to the original string.

fun String.substringBeforeLast(
    delimiter: Char,
    missingDelimiterValue: String = this
): String
fun String.substringBeforeLast(
    delimiter: String,
    missingDelimiterValue: String = this
): String
Common
JVM
JS
Native
sumBy
Returns the sum of all values produced by selector function applied to each character in the char sequence.

fun CharSequence.sumBy(selector: (Char) -> Int): Int
Common
JVM
JS
Native
sumByDouble
Returns the sum of all values produced by selector function applied to each character in the char sequence.

fun CharSequence.sumByDouble(
    selector: (Char) -> Double
): Double
Common
JVM
JS
Native
take
Returns a string containing the first n characters from this string, or the entire string if this string is shorter.

fun String.take(n: Int): String
Common
JVM
JS
Native
takeLast
Returns a string containing the last n characters from this string, or the entire string if this string is shorter.

fun String.takeLast(n: Int): String
Common
JVM
JS
Native
takeLastWhile
Returns a string containing last characters that satisfy the given predicate.

fun String.takeLastWhile(
    predicate: (Char) -> Boolean
): String
Common
JVM
JS
Native
takeWhile
Returns a string containing the first characters that satisfy the given predicate.

fun String.takeWhile(predicate: (Char) -> Boolean): String
JVM
1.2
toBigDecimal
Parses the string as a java.math.BigDecimal number and returns the result.

fun String.toBigDecimal(): BigDecimal
fun String.toBigDecimal(mathContext: MathContext): BigDecimal
JVM
1.2
toBigDecimalOrNull
Parses the string as a java.math.BigDecimal number and returns the result or null if the string is not a valid representation of a number.

fun String.toBigDecimalOrNull(): BigDecimal?
fun String.toBigDecimalOrNull(
    mathContext: MathContext
): BigDecimal?
JVM
1.2
toBigInteger
Parses the string as a java.math.BigInteger number and returns the result.

fun String.toBigInteger(): BigInteger
fun String.toBigInteger(radix: Int): BigInteger
JVM
1.2
toBigIntegerOrNull
Parses the string as a java.math.BigInteger number and returns the result or null if the string is not a valid representation of a number.

fun String.toBigIntegerOrNull(): BigInteger?
fun String.toBigIntegerOrNull(radix: Int): BigInteger?
JVM
toByteArray
Encodes the contents of this string using the specified character set and returns the resulting byte array.

fun String.toByteArray(
    charset: Charset = Charsets.UTF_8
): ByteArray
Common
JVM
JS
Native
1.1
toByteOrNull
Parses the string as a signed Byte number and returns the result or null if the string is not a valid representation of a number.

fun String.toByteOrNull(): Byte?
fun String.toByteOrNull(radix: Int): Byte?
JVM
toCharArray
Copies characters from this string into the destination character array and returns that array.

fun String.toCharArray(
    destination: CharArray,
    destinationOffset: Int = 0,
    startIndex: Int = 0,
    endIndex: Int = length
): CharArray
Common
JVM
JS
Native
toCollection
Appends all characters to the given destination collection.

fun <C : MutableCollection<in Char>> CharSequence.toCollection(
    destination: C
): C
Common
JVM
JS
Native
toHashSet
Returns a HashSet of all characters.

fun CharSequence.toHashSet(): HashSet<Char>
Common
JVM
JS
Native
1.1
toIntOrNull
Parses the string as an Int number and returns the result or null if the string is not a valid representation of a number.

fun String.toIntOrNull(): Int?
fun String.toIntOrNull(radix: Int): Int?
Common
JVM
JS
Native
toList
Returns a List containing all characters.

fun CharSequence.toList(): List<Char>
Common
JVM
JS
Native
1.1
toLongOrNull
Parses the string as a Long number and returns the result or null if the string is not a valid representation of a number.

fun String.toLongOrNull(): Long?
fun String.toLongOrNull(radix: Int): Long?
JVM
toLowerCase
Returns a copy of this string converted to lower case using the rules of the specified locale.

fun String.toLowerCase(locale: Locale): String
Common
JVM
JS
Native
toMutableList
Returns a MutableList filled with all characters of this char sequence.

fun CharSequence.toMutableList(): MutableList<Char>
JVM
toPattern
Converts the string into a regular expression Pattern optionally with the specified flags from Pattern or'd together so that strings can be split or matched on.

fun String.toPattern(flags: Int = 0): Pattern
Common
JVM
JS
Native
toRegex
Converts the string into a regular expression Regex with the default options.

fun String.toRegex(): Regex
Converts the string into a regular expression Regex with the specified single option.

fun String.toRegex(option: RegexOption): Regex
Converts the string into a regular expression Regex with the specified set of options.

fun String.toRegex(options: Set<RegexOption>): Regex
Common
JVM
JS
Native
toSet
Returns a Set of all characters.

fun CharSequence.toSet(): Set<Char>
Common
JVM
JS
Native
1.1
toShortOrNull
Parses the string as a Short number and returns the result or null if the string is not a valid representation of a number.

fun String.toShortOrNull(): Short?
fun String.toShortOrNull(radix: Int): Short?
JVM
toSortedSet
Returns a SortedSet of all characters.

fun CharSequence.toSortedSet(): SortedSet<Char>
Common
JVM
JS
Native
1.3
toUByte
Parses the string as a signed UByte number and returns the result.

fun String.toUByte(): UByte
fun String.toUByte(radix: Int): UByte
Common
JVM
JS
Native
1.3
toUByteOrNull
Parses the string as an UByte number and returns the result or null if the string is not a valid representation of a number.

fun String.toUByteOrNull(): UByte?
fun String.toUByteOrNull(radix: Int): UByte?
Common
JVM
JS
Native
1.3
toUInt
Parses the string as an UInt number and returns the result.

fun String.toUInt(): UInt
fun String.toUInt(radix: Int): UInt
Common
JVM
JS
Native
1.3
toUIntOrNull
Parses the string as an UInt number and returns the result or null if the string is not a valid representation of a number.

fun String.toUIntOrNull(): UInt?
fun String.toUIntOrNull(radix: Int): UInt?
Common
JVM
JS
Native
1.3
toULong
Parses the string as a ULong number and returns the result.

fun String.toULong(): ULong
fun String.toULong(radix: Int): ULong
Common
JVM
JS
Native
1.3
toULongOrNull
Parses the string as an ULong number and returns the result or null if the string is not a valid representation of a number.

fun String.toULongOrNull(): ULong?
fun String.toULongOrNull(radix: Int): ULong?
JVM
toUpperCase
Returns a copy of this string converted to upper case using the rules of the specified locale.

fun String.toUpperCase(locale: Locale): String
Common
JVM
JS
Native
1.3
toUShort
Parses the string as a UShort number and returns the result.

fun String.toUShort(): UShort
fun String.toUShort(radix: Int): UShort
Common
JVM
JS
Native
1.3
toUShortOrNull
Parses the string as an UShort number and returns the result or null if the string is not a valid representation of a number.

fun String.toUShortOrNull(): UShort?
fun String.toUShortOrNull(radix: Int): UShort?
Native
1.3
toUtf8
Converts a String into an UTF-8 array. Replaces invalid input sequences with a default character.

fun String.toUtf8(): ByteArray
fun String.toUtf8(
    start: Int = 0,
    size: Int = this.length
): ByteArray
Native
1.3
toUtf8OrThrow
Converts a String into an UTF-8 array.

fun String.toUtf8OrThrow(): ByteArray
fun String.toUtf8OrThrow(
    start: Int = 0,
    size: Int = this.length
): ByteArray
Common
JVM
JS
Native
trim
Returns a string having leading and trailing characters matching the predicate removed.

fun String.trim(predicate: (Char) -> Boolean): String
Returns a string having leading and trailing characters from the chars array removed.

fun String.trim(vararg chars: Char): String
Returns a string having leading and trailing whitespace removed.

fun String.trim(): String
Common
JVM
JS
Native
trimEnd
Returns a string having trailing characters matching the predicate removed.

fun String.trimEnd(predicate: (Char) -> Boolean): String
Returns a string having trailing characters from the chars array removed.

fun String.trimEnd(vararg chars: Char): String
Returns a string having trailing whitespace removed.

fun String.trimEnd(): String
Common
JVM
JS
Native
trimIndent
Detects a common minimal indent of all the input lines, removes it from every line and also removes the first and the last lines if they are blank (notice difference blank vs empty).

fun String.trimIndent(): String
Common
JVM
JS
Native
trimMargin
Trims leading whitespace characters followed by marginPrefix from every line of a source string and removes the first and the last lines if they are blank (notice difference blank vs empty).

fun String.trimMargin(marginPrefix: String = "|"): String
Common
JVM
JS
Native
trimStart
Returns a string having leading characters matching the predicate removed.

fun String.trimStart(predicate: (Char) -> Boolean): String
Returns a string having leading characters from the chars array removed.

fun String.trimStart(vararg chars: Char): String
Returns a string having leading whitespace removed.

fun String.trimStart(): String
Common
JVM
JS
Native
1.2
windowed
Returns a list of snapshots of the window of the given size sliding along this char sequence with the given step, where each snapshot is a string.

fun CharSequence.windowed(
    size: Int,
    step: Int = 1,
    partialWindows: Boolean = false
): List<String>
Returns a list of results of applying the given transform function to an each char sequence representing a view over the window of the given size sliding along this char sequence with the given step.

fun <R> CharSequence.windowed(
    size: Int,
    step: Int = 1,
    partialWindows: Boolean = false,
    transform: (CharSequence) -> R
): List<R>
Common
JVM
JS
Native
1.2
windowedSequence
Returns a sequence of snapshots of the window of the given size sliding along this char sequence with the given step, where each snapshot is a string.

fun CharSequence.windowedSequence(
    size: Int,
    step: Int = 1,
    partialWindows: Boolean = false
): Sequence<String>
Returns a sequence of results of applying the given transform function to an each char sequence representing a view over the window of the given size sliding along this char sequence with the given step.

fun <R> CharSequence.windowedSequence(
    size: Int,
    step: Int = 1,
    partialWindows: Boolean = false,
    transform: (CharSequence) -> R
): Sequence<R>
Common
JVM
JS
Native
withIndex
Returns a lazy Iterable that wraps each character of the original char sequence into an IndexedValue containing the index of that character and the character itself.

fun CharSequence.withIndex(): Iterable<IndexedValue<Char>>
Common
JVM
JS
Native
zip
Returns a list of pairs built from the characters of this and the other char sequences with the same index The returned list has length of the shortest char sequence.

infix fun CharSequence.zip(
    other: CharSequence
): List<Pair<Char, Char>>
Returns a list of values built from the characters of this and the other char sequences with the same index using the provided transform function applied to each pair of characters. The returned list has length of the shortest char sequence.

fun <V> CharSequence.zip(
    other: CharSequence,
    transform: (a: Char, b: Char) -> V
): List<V>
Common
JVM
JS
Native
1.2
zipWithNext
Returns a list of pairs of each two adjacent characters in this char sequence.

fun CharSequence.zipWithNext(): List<Pair<Char, Char>>
Returns a list containing the results of applying the given transform function to an each pair of two adjacent characters in this char sequence.

fun <R> CharSequence.zipWithNext(
    transform: (a: Char, b: Char) -> R
): List<R>
Companion Object Extension Functions
JVM
format
Uses the provided format as a format string and returns a string obtained by substituting the specified arguments, using the default locale.

fun String.Companion.format(
    format: String,
    vararg args: Any?
): String
Uses the provided format as a format string and returns a string obtained by substituting the specified arguments, using the specified locale.

fun String.Companion.format(
    locale: Locale,
    format: String,
    vararg args: Any?
): String


[содержание](/readme.md)  


<a name="codepages"></a>

## Кодировки символов: ANSI, UTF-8, UNICODE.
Прежде чем разбираться с кодировкой символов разберемся как компьютер вообще хранит информацию.

У нас 10 пальцев, и система — десятичная. То есть, любое, сколь угодно большое число мы можем представить с помощью цифр 0, 1, 2, 3, 4, 5, 6, 7, 8, 9. В зависимости от того, где в числе стоит цифра, она может означать разное: если эта цифра последняя, то она расположена в разряде единиц, предпоследняя — разряд десятков, еще левее — разряд сотен и так далее. По сути, любое число можно расписать в виде суммы цифр, каждая из которых умножена на десять в определенной степени. В случае единиц, эта степень — нулевая.

Например,

1573 = 3\*10<sup>0</sup> + 7\*10<sup>1</sup> + 5\*10<sup>2</sup> + 1\*10<sup>3</sup>

Число, на степень которого умножаются цифры называется базой системы счисления. Для десятичной системы базой, логично, является десятка.

У компьютера пальцев нет, но есть два состояния: условно «ток идет» и «ток не идет», нулик и единичка. Соответственно все числа (да и вообще информация) в памяти компьютера состоят только из двух цифр — 0 и 1. Их расположение, как и в случае десятичной системы счисления, указывает на разряд. Только теперь число можно разложить на сумму цифр, помноженных не на степени десятки, а степени двойки.

0 в двоичной системе = 0</br>
1 в двоичной системе = 1</br> 
2 в двоичной системе = 10</br>
7<sub>10</sub>=111<sub>2</sub></br>

Научитесь переводить из двоичной системы в десятичую. Вы, наверное, уже поняли, как это делается — просто берем цифру числа начиная с самой правой и умножаем её на базу системы счисления в степени, соответствующей её разряду, так с каждым разрядом. Затем складываем все получившиеся таким образом числа.

Пример:

Давайте найдем десятичный аналог двоичного числа 101101<sub>2</sub>

Самая правая единичка = 1\*2<sup>0</sup></br>
Следующий нулик = 0\*2<sup>1</sup></br>
Третья справа единичка = 1\*2<sup>2</sup></br>
Четвертая = 1\*2<sup>3</sup></br>
… и так далее</br>

101101<sub>2</sub> = 1\*2<sup>0</sup> + 0\*2<sup>1</sup> + 1\*2<sup>2</sup> + 1\*2<sup>3</sup> + 0\*2<sup>4</sup> + 1\*2<sup>5</sup> = 1 + 0 + 4 + 8 + 0 + 32 = 45<sub>10</sub>

### Перевод из десятичной системы в двоичную

Тут тоже всё просто, если понимать суть.

Пример:

У нас есть десятичное число 57<sub>10</sub>. Чтобы перевести его в двоичную систему, нужно определить, какая максимальная степень двойки не превосходит это число.

2<sup>6</sup> = 64.  
Это явно многовато.  
А вот 2<sup>5</sup> = 32.  

Мы определили старший разряд. 32<sub>10</sub> = 100000<sub>2</sub>.  
Теперь ищем следующий разряд. 57-32 = 25.  
Теперь для 25 ищем степень двойки, которая не превосходит 25.  
2<sup>4</sup> = 16.  
Значит, следующий разряд у нас тоже равен "1".  
32+16 = 48<sub>10</sub> = 110000<sub>2</sub>.  
57 – 48 = 9.  
2<sup>3</sup> = 8, это больше, чем 9. Значит следующий разряд тоже будет единичкой.

32 + 16 + 8 = 56<sub>10</sub> = 111000<sub>2</sub>.  
57 - 56 = 1, то есть осталась только одна степень 2<sup>0</sup>.  
Таким образом, 57<sub>10</sub> = 111001<sub>2</sub>.

### ASCII

Мы выяснили, что компьютер понимает только нулики и единички, а его память можно представить в виде очень длинной строки из лампочек с выключателями. Как представить цифры в компьютере мы уже поняли. А что делать с остальной информацией? Буквами, картинками?

Скажем, в английском алфавите 26 букв. Теоретически мы можем представить буквы цифрами от 0 до 25, только в двоичной системе. Возникает другой вопрос: а как понять, перед нами строчная буква или прописная? А знаки препинания? Что делать со знаками-«невидимками», вроде пробела? Словом, нужна система кодирования.

В 1960-х годах существовало множество разных схем, кодирующих символы. Отсутствие единообразия довольно быстро переросло в серьёзную проблему, и уже в 1963 году Американский институт стандартизации ANSI разработал и ввел в обиход схему кодировки ASCII (American Standard Code for Information Interchange). 

Каждый символ ASCII состоит из семи разрядов или семи бит, каждый из которых может принимать значение 0 или 1. В 7 бит можно поместить числа от 0 до 127 в двоичной системе, то есть у нас есть 128 чисел для кодирования символов. Казалось бы, достаточно для кодировки письменной английской речи? 

Давайте прикинем: 

a-z — 26 вариантов  
A-Z — еще 26  
0-9 — 10  
,;:~& и прочие знаки пунктуации — 32  
Ещё нам нужен пробел.  
Итого — 95 символов.  

Оставшиеся 33 (128 - 95) вакантных варианта используют для так называемых управляющих символов, вроде перевода строки или возврата каретки.

Важно различать символы "0"-"9" и числовые значения 0-9.
Символы "0"-"9" представлены значениями ASCII 48-57 (0x30-0x39).

Интересно отметить, что крайние правые четыре бита этих значений ASCII представляют собой двоичные представления числовых значений 0-9. Это несколько упрощает способ преобразования между значениями ASCII и их фактическими числовыми значениями (в шестнадцатиричном виде это особенно заметно).

С появлением восьмибитной кодировки, в ASCII смогли закодировать и другие алфавиты. Расширенных кодировок ASCII много - существуют версии для многих национальных алфавитов. При этом первая половина кодировки (значения от нуля до 127) везде одинаковая.

Русский алфавит (кириллица) закодирован в кодировке с названием windows-1251 (Это актуальная кодировка для Windows, но и до неё существовало несколько кодировок. Наиболее распространены были CP866 и КОИ-8r, вы вполне можете с ними столкнуться при работе со старым "железом" или сайтами).


### Кодировка Юникод (Unicode)

Один байт может иметь только 256 значений. Это значит, что в кодировке ASCII можно закодировать 256 символов: цифр, букв, пиктограмм, знаков пунктуации и других различных символов. В то же время существуют письменности, в которых гораздо больше символов, например, китайские или японские иероглифы.

Для решения этой (и некоторых других) проблемы в начале девяностых была создана кодировка Юникод(Unicode). Первоначально все символы юникода занимали два байта. Соответственно, в unicode можно было закодировать 2<sup>16</sup> = 65536 значений. Затем кодовое пространство было расширено до более чем миллиона символов. В результате этого появилось несколько представлений юникода.

Наиболее популярными представлениями юникода являются два: **UTF-8** - используется в интернете и **UTF-16** - используется в Windows (начиная с Windows XP).

Существует две версии UTF-16: UTF-16LE (little-endian) - кодировка с обратным порядком байтов и UTF-16BE (big-endian) - кодировка с прямым порядком байтов. В Windows используется UTF16-LE.

Код символов в юникоде обозначается так: U+hhhh (четыре шестнадцатеричных цифры,h - от hexadecimal - шестнадцатеричный). Например, U+221A - символ квадратного корня - √.

Часть символов в UTF-16 кодируются двумя байтами (первые 63 тысячи). Остальные символы кодируются суррогатными парами. 

В **UTF-8** первые 128 символов кодируются одним байтом. Остальные символы могут кодироваться несколькими байтами (от двух до четырёх). Именно поэтому длина строки в юникоде не равна длине буфера, который эта строка занимает. Это нужно учитывать при обмене данными.

И ещё один момент (самый важный): в юникод закодированы все символы всех современных и многих мёртвых письменностей плюс знаки из различных областей науки и культуры (математические и экономически символы, нотные знаки и многое другое). Именно по этой причине и нужно использовать юникод.

### Кодирование текста в Microsoft Windows (начиная с Windows XP)
В современных версиях Windows существует два способа представления текста: UTF-16 и кодовые страницы (в основном это восьмибитные кодировки). Основной способ - юникод. Кодовые страницы нужны для совместимости со старыми приложениями (в Windows 95, Windows 98 - в основном использовалась ASCII). Кроме того, юникод не понимает одна очень важная программа - консоль.

Пусть вас не смущает новый термин - кодовая страница (code page). В windows так называются все кодировки (character sets или encodings). Т.е. понятие кодировка равнозначно кодовой странице.

Сразу сделаю замечание, которое лучше запомнить. В Windows есть чёткое разделение: вот юникод (UTF-16LE), а вот все остальные кодировки. И юникод, и остальные кодировки в Windows называются кодовыми страницами, но этот термин (кодовые страницы) я буду применять ко всем кодировкам за исключением юникода.



***
# Контрольные вопросы
* [Кодировки символов](#codepages)
